<app-loading [condition]="isLoading"></app-loading>

<app-toast [message]="toast.message"></app-toast>
<table class="table">
  <thead class="thead-light">
    <tr>
      <th scope="col">Graffiti</th>
    </tr>
  </thead>
  <tbody>
    <td>
      <button class="btn btn-sm btn-primary" (click)="enableEditing(post)"><i class="fa fa-pencil"></i> Edit</button> 
      <button class="btn btn-sm btn-danger" (click)="deletePost(post)"><i class="fa fa-trash"></i> Delete</button>
      <button class="btn btn-sm btn-success" (click)="nextPost()"><i class="fa fa-pencil"></i> Next</button>
    </td>
  </tbody>
</table>
<!-- <h1>{{post.message}}</h1> -->
<!-- <svg id="graffiti" width="960" height="500"></svg>
<svg id="ui" width="960" height="500"></svg> -->
<div id="svg_div"></div>

<div *ngIf="isEditing">
 <form class="form-inline" #form="ngForm" (ngSubmit)="editPost(post)">
    <input class="form-control mr-2" type="text" name="message" [(ngModel)]="post.message" placeholder="Message" required>
    <button class="btn btn-sm btn-primary mr-2" type="submit" [disabled]="!form.form.valid"><i class="fa fa-floppy-o"></i> Save</button>
    <button class="btn btn-sm btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Cancel</button>
  </form>
</div>

<div class="card" *ngIf="!isEditing">
  <h4 class="card-header">Add new post</h4>
  <div class="card-body">
    <form class="form-inline" [formGroup]="addPostForm" (ngSubmit)="addPost()">
      <input class="form-control mr-2" type="text" name="message" formControlName="message" placeholder="Message">
      <button class="btn btn-primary" type="submit" [disabled]="!addPostForm.valid"><i class="fa fa-floppy-o"></i> Add</button>
    </form>
  </div>
</div>